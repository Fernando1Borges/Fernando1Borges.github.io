<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
  <script>console.time("start_to_end");</script>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Konrad Gnat | Blog</title>

  <link rel="shortcut icon" href="src/images/favicon.png" type="image/png">

  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css?family=Alfa+Slab+One|Varela+Round" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Abel|Catamaran|Josefin+Sans" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:300,400" rel="stylesheet"> 

  <link href="../dist/css/main.css" rel="stylesheet">

</head>

<body>

  <nav  id="home" class="nav navbar-default navbar-fixed-top" role="navigation">
   <div class="container">
    <div class="navbar-header">
      <div id="menuToggle" class="container-button" type="button"
      class="navbar-toggle collapsed" data-toggle="collapse"
      data-target="#navbar" aria-expanded="false" aria-controls="navbar">
      <div class="bar1"></div>
      <div class="bar2"></div>
      <div class="bar3"></div>
    </div>
    <!-- </button> -->
    <a class="navbar-brand" href="../index.html#home"><i class="fa fa-code" aria-hidden="true"></i></a>
  </div>
  <div  id="navbar" class="navbar-collapse collapse">
    <ul class="nav navbar-nav">
      <li><a  href="../index.html#about">About</a></li>
      <li><a href="../index.html#projects">Projects</a></li>
      <li><a href="../index.html#contact">Contact</a></li>
      <li><a href="./blog.html">Blog</a></li>
      <!--<li><a target="_blank" href="../resume.pdf">Resume</a></li>-->
    </ul>
  </div>
</div>
</nav>

  <!-- Content Section -->

  <section class="blog">
    <div class="jumbotron_image__logo">
      <img class="img-responsive" src="../dist/images/heaps.jpg" alt="heaps" />

    </div>
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-12 col-sm-8 col-sm-offset-2">
          <div class="page-header">
            <h1>Min and max heaps in Python3</h1>
          </div>
          <div class="blog_text">
            <p>A min and max heap is a binary heap which is a binary tree that is ordered in a specific way. In the min heap each node is greater than or equal to the value of its parent, with the minimum value element at its root. For the max-heap the opposite is true. </p>

            <p>The heap data structure was invented by J. W. J. Williams in 1964, as a data structure for the heapsort sorting algorithm. He was a British born computer scientist that spent the latter part of his career in Ottawa, Canada. The heapsort algorithm divides itâ€™s input into sorted and unsorted regions and it iteratively shrinks the unsorted region by extracting the largest element and moving that to the sorted region. </p>
            <img class="img-responsive center-image" src="../dist/images/sorting_heapsort.gif" />
            <p class="caption-center">heapsort algorithm in action</p>

            <p>Heaps are usually implemented in an array. In a one based array, (array keeping a zero as the first element) each node has a left child at index * 2 and a right child at index * 2 + 1.  To get to the parent node, divide index by 2. To implement this data structure in python, we will create a class with the following functions.</p>
            <h3>Public functions</h3>

            <p><code>push(newItem)</code><br/>This adds a new item to the heap.</p>

            <p><code>pop()</code><br/>This removes the min or max item.</p>

            <p><code>peek()</code><br/>This returns the root item.</p>
            <h3>Private functions</h3>

            <p><code>__swap(item1, item2)</code><br/>Exchanges two items.</p>

            <p><code>__floatUp()</code><br/>Moves item up to its proper position in the heap.</p>

            <p><code>__bubbleDown()</code><br/>Moves item down to its proper position.</p>


            <p>With these functions our implementation of a max heap looks like this. To get a min heap, all you have to do is reverse some of the inequality signs</p>
            <pre>
              <code>
  class MaxHeap:
    def __init__(self, items=[]):
      super().__init__()
      self.heap = [0]
      for i in items:
        self.heap.append(i)
        self.__floatUp(len(self.heap) - 1)

    def push(self, data):
      self.heap.append(data)
      self.__floatUp(len(self.heap) - 1)

    def peek(self):
      if len(self.heap) > 1:
        return self.heap[1]
      else:
        return False
        
    def pop(self):
      if len(self.heap) > 2:
        self.__swap(1, len(self.heap) - 1)
        max = self.heap.pop()
        self.__bubbleDown(1)
      elif len(self.heap) == 2:
        max = self.heap.pop()
      else: 
        max = False
      return max

    def __swap(self, i, j):
      self.heap[i], self.heap[j] = self.heap[j], self.heap[i]

    def __floatUp(self, index):
      parent = index//2
      if index <= 1:
        return
      elif self.heap[index] > self.heap[parent]:
        self.__swap(index, parent)
        self.__floatUp(parent)

    def __bubbleDown(self, index):
      left = index * 2
      right = index * 2 + 1
      largest = index
      if len(self.heap) > left and self.heap[largest] < self.heap[left]:
        largest = left
      if len(self.heap) > right and self.heap[largest] < self.heap[right]:
        largest = right
      if largest != index:
        self.__swap(index, largest)
        self.__bubbleDown(largest)
              </code>
            </pre>
            
            <p>To practice this concept try solving a problem like the <a class="plain_link" href="http://www.geeksforgeeks.org/median-of-stream-of-integers-running-integers/">running mean</a> using heaps.</p>
            <section class="blog_links">
              <h3>Links</h3>
              <div class="well well-lg">
              <p>
              <a class="plain_link" href="https://www.geeksforgeeks.org/binary-heap/">Geeks for geeks</a>
              </p>
              <p>
              <a class="plain_link" href="https://en.wikipedia.org/wiki/Heap_(data_structure)">Wikipedia</a>
              </p><p>
              <a class="plain_link" href="https://www.cs.cmu.edu/~adamchik/15-121/lectures/Binary%20Heaps/heaps.html">More reading</a>
                </p>
              </div>
            </section>

        </div>
      </div>
    </div>
  </section>
  <!-- Contact Section -->

  <section>
    <div class="container-fluid">
      <div class="cont section-3">

        <div class="row" id="contact">
          <div class="col-xs-12 titles">
            <h2>Contact</h2>
          </div>
        </div>

        <div class="row" >
          <div class="col-xs-12 col-sm-12 col-md-8 col-md-offset-2">
            <form class=" displayBox form-horizontal"
            action="https://formspree.io/kgnat77@gmail.com"
            method="POST">
            <fieldset>

              <div class="form-group">
                <label for="message_name" class="col-xs-4 col-md-4 control-label">Name</label>
                <div class="input-group">
                  <input name="message_name" placeholder="Name" class="form-control" type="text">
                </div>
              </div>

              <div class="form-group">
                <label for="message_email" class="col-xs-4 col-md-4 control-label">Email</label>
                <div class="input-group">
                  <input name="message_email" placeholder="E-Mail Address" class="form-control" type="text">


                </div>
              </div>

              <div class="form-group">
                <label for="message_content" class="col-xs-4 col-md-4 control-label">Message</label>
                <div class="input-group">
                  <textarea name="message_content" cols="10" rows="6" placeholder="Message" class="form-control" type="text"></textarea>


                </div>
              </div>

              <div class="form-group">
                <label class="col-md-4 control-label"></label>
                <div class="col-md-4">
                  <input type="submit" value="send" class="submit-button">
                </div>
              </div>

            </fieldset>

          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Resume Button -->
<section>
  <div class="container-fluid">
    <div class="row" id="resume">
      <div class="col-xs-12 titles">
        <h2>Resume</h2>
        <div class="center">
          <a target="_blank" href="../resume.pdf"
          class="resume_button">View Resume</a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Social Media -->

<footer id="footer">
  <div class="container-fluid">

    <div class="row">
      <div class="socialMedia" id="social-media">
        <ul>
          <li>
           <a href="https://github.com/konradgnat">
             <i class="fa fa-github fa-2x" aria-hidden="true"></i>
           </a>
         </li>
         <li>
           <a href="https://www.instagram.com/konrad_gnat/?hl=en">
             <i class="fa fa-instagram fa-2x" aria-hidden="true"></i>
           </a>
         </li>
         <li>
           <a href="https://www.linkedin.com/in/konrad-gnat">
             <i class="fa fa-linkedin fa-2x" aria-hidden="true"></i>
           </a>
         </li>     
         <li>
          <a href="https://twitter.com/konrad_gnat">
            <i class="fa fa-twitter fa-2x" aria-hidden="true"></i>
          </a>
        </li>

        <li>
          <a href="http://devpost.com/Konrad_Gnat">
            <picture>
              <source srcset="../dist/images/webp/devpost.webp" type="image/webp">
                <source srcset="../dist/images/devpost.png" type="image/png">
                  <img class="devpost-img" src="../dist/images/devpost.png" alt="devpost logo">
                </picture>
              </a>
            </li>
          </ul>
        </div>


      </div>
    </div>
  </footer>

  <!-- require js -->

  <!-- PRODUCTION ? LOAD THIS -->
  <!-- <script type="text/javascript" data-main="dist/js/main-optimized.min.js" src="dist/js/require.js"></script> -->

  <!-- DEVELOPMENT ? LOAD THIS -->
  <script type="text/javascript" data-main="../src/scripts/main.js" src="../dist/js/require.js"></script>

</body>
</html>
