<!DOCTYPE html>
<html lang="en">
<head>
  <title>Matching Game</title>

  <script src="../../bower_components/jquery/dist/jquery.min.js"></script>

  <script type="text/javascript"  src="../../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="script/script.js"></script>

  <link href="../../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="../../bower_components/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet">
  <link href="../../bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="style/main.css">

  <script>

  var numberOfFaces = 5;




  function generateFaces() {
    var i = 0;
    while( i < numberOfFaces)
    {
      var pTop = Math.floor(Math.random() * 401).toFixed();
      var pLeft = Math.floor(Math.random() * 401).toFixed();
      var smile = document.createElement("img");
      var theLeftSide  = document.getElementById("leftSide");
      smile.src = "images/smile.png";
      smile.style.top = pTop + "px";
      smile.style.left = pLeft + "px";
      theLeftSide.appendChild(smile);
      i++;
    }

    /*
    Cloning to the Right Side
    */

    var theRightSide = document.getElementById("rightSide");
    leftSideImages = theLeftSide.cloneNode(true);
    leftSideImages.removeChild(leftSideImages.lastChild);
    rightSide.appendChild(leftSideImages);

    /*
    Event hander functions
    */

    var theBody = document.getElementsByTagName("body")[0];
    var theLeftSide  = document.getElementById("leftSide");
    theLeftSide.lastChild.onclick = function nextLevel(event) {
      event.stopPropagation();
      numberOfFaces += 5;

      /*
      Clear both sides before generating new set of faces
      */

      while(theLeftSide.firstChild)
      {
        theLeftSide.removeChild(theLeftSide.firstChild);
      };
      while(theRightSide.firstChild)
      {
        theRightSide.removeChild(theRightSide.firstChild);
      };
      generateFaces();
    };

    /*
    Display Level function
    */


    var level = numberOfFaces / 5;
    var gameLevel = document.getElementById('currentLevel');
    if (gameLevel.firstChild)
    gameLevel.removeChild(gameLevel.firstChild);
    document.getElementById("currentLevel").innerHTML += level;

    /*
    Game Over function
    */

    theBody.onclick = function gameOver()
    {
      alert("Game Over!\n\nYou have reached level " + level);
      theBody.onclick = null;
      theLeftSide.lastChild.onclick = null;
    };
  } // end generateFaces function


  </script>
</head>

<body onload="generateFaces()">
<div class="jumbotron">
  <div clas="container">
  <h1>
    Matching Game
  </h1>
  <p>
    There is one extra smily face on the left. Click on it
    in order to advance to the next level. Caution! Click in the wrong
     place and game over!
  </p>
  <h4 id="levelDisplay">Level: <span id="currentLevel"></span></h4>
  <form>
<input type="button" onClick="history.go(0)" value="Restart Game">
</form>
</div>
</div>
<div class="container">
  <div class="row">
  <div class="col-xs-12 col-md-6 window" id="leftSide"></div>
  <div id="rightSide"></div>
</div>
</div>
</body>
</html>
